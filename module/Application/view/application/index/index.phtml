<?php
/**
 * @var Laminas\View\Renderer\PhpRenderer $this
 */
?>
<!-- main page carousel -->
<div id="carouselExampleIndicators" class="m-0 carousel carousel-fade slide border-bottom" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <!-- Slide One: Sailing -->
        <div class="carousel-item active" style="background-position: bottom; background-image: url('<?= $this->basePath('/img/sailing6.jpg') ?>')">
            <div class="carousel-caption">
                <h3 class="h3-responsive display-4">Sailing</h2>
                <p><i class="fa fa-2x fa-chevron-down floating"></i></p>
            </div>
        </div>
        <!-- Slide Two: Windsurfing -->
        <div class="carousel-item" style="background-position: bottom; background-image: url('<?= $this->basePath('/img/windsurfing1.jpg') ?>')">
            <div class="carousel-caption">
                <h3 class="h3-responsive display-4">Windsurfing</h2>
                <p><i class="fa fa-2x fa-chevron-down floating"></i></p>
            </div>
        </div>
        <!-- Slide Three: Racing -->
        <div class="carousel-item" style="background-position: bottom; background-image: url('<?= $this->basePath('/img/sailing3.jpg') ?>')">
            <div class="carousel-caption">
                <h3 class="h3-responsive display-4">Racing</h2>
                <p><i class="fa fa-2x fa-chevron-down floating"></i></p>
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<!-- sail, wind, race -->
<div class="container-fluid pt-5 pb-5 secondary-color">
    <div class="row justify-content-center text-center">
        <div class="col-xl-3 col-lg-4 col-md-12 p-5">
            <h3 class="page-header pb-3 mb-3">Sailing</h3>
            <p class="lead">The reservoir is over one mile long by approximately half a mile wide, where cruising can be enjoyed under the safe visibility of the on-duty safety boat crews.</p>
            <p class="lead">Tuesday evenings through the Spring and Summer months provide a safe environment for casual sailing as well as the opportunity to practice skills in a non-raciing environment.</p>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-12 p-5">
            <h3 class="page-header pb-3 mb-3">Windsurfing</h3>
            <p class="lead">Whatever your ability, the Lake is ideal for windsurfing in most wind directions, with a spacious grassy area for rigging, and an easy launching area.</p>
            <p class="lead">You donâ€™t have to worry about tides and you can enjoy the luxury of hot showers, hot drinks and the chance to have a chat with other members.</p>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-12 p-5">
            <h3 class="page-header pb-3 mb-3">Racing</h3>
            <p class="lead">We have racing all year round at the club, as the resevior is warm enough to sail in without too much discomfort even in the winter months. During the warmer months we have racing three days a week as well as various class and club regattas.</p>
            <p class="lead">You will find club racing competitive and friendly at the same time in both the General Handicap Fleet as well as the well established Solo Class Fleet.</p>
        </div>
    </div>
</div>

<!-- Booking a sailing session -->
<div class="container-fluid pt-5 pb-5">
    <div class="row justify-content-center text-center">
        <div class="col-xl-4 col-lg-6 col-md-12 p-5 align-self-center">
            <h2 class="container page-header pb-3 mb-3">Book a Sailing Session</h2>
            <p class="lead">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse quis velit massa.
                In sit amet iaculis diam. Aenean laoreet placerat tincidunt. Vivamus vehicula ut sapien ut viverra.
                Proin venenatis nec velit sit amet porttitor. Praesent in dignissim dui.
                Vestibulum velit lacus, ullamcorper sed nibh eu, vestibulum egestas augue.
                Aenean quis mauris aliquam, sagittis sem eu, mollis lectus.
            </p>
            <a role="button" class="btn btn-primary btn-lg shadow" href="<?= $this->url('sailing/book') ?>">Book a Session <i class="fa fa-angle-double-right"></i></a>
        </div>
        <div class="col-xl-5 col-lg-6 col-md-12 p-5 align-self-center">
            <img class="rounded shadow w-100" src="<?= $this->basePath('/img/sailing5.jpg') ?>">
        </div>
    </div>
</div>

<!-- Join the club -->
<div class="container-fluid pt-5 pb-5 secondary-color">
    <div class="row justify-content-center text-center">
        <div class="col-xl-5 col-lg-6 col-md-12 order-xl-1 order-lg-1 order-md-2 order-sm-2 order-2 p-5 align-self-center">
            <img class="rounded shadow w-100" src="<?= $this->basePath('/img/sailing2.jpg') ?>">
        </div>
        <div class="col-xl-4 col-lg-6 col-md-12 order-xl-2 order-lg-2 order-md-1 order-sm-1 order-1 p-5 align-self-center">
            <h2 class="container page-header pb-3 mb-3">Join the Club</h2>
            <p class="lead">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse quis velit massa.
                In sit amet iaculis diam. Aenean laoreet placerat tincidunt. Vivamus vehicula ut sapien ut viverra.
                Proin venenatis nec velit sit amet porttitor. Praesent in dignissim dui.
                Vestibulum velit lacus, ullamcorper sed nibh eu, vestibulum egestas augue.
                Aenean quis mauris aliquam, sagittis sem eu, mollis lectus.
            </p>
            <a role="button" class="btn btn-primary btn-lg shadow" href="<?= $this->url('join') ?>">Join Us <i class="fa fa-angle-double-right"></i></a>
        </div>
    </div>
</div>

<!-- weather -->
<div class="container-fluid pt-5 pb-5">
    <h2 class="container page-header pb-3 mb-3 text-center">Margam Weather</h2>
    <?php if($this->weatherOk): ?>
        <div class="row">
            <?php foreach($this->weather as $date => $forecast): ?>
                <div id="<?= $forecast['date_epoch'] ?>" class="col-xl-4 rounded">
                    <h3 class="text-center"><?= $date ?></h3>
                    <table class="table shadow table-hover table-sm weather-table border-bottom-table">
                        <thead class="primary-color">
                            <tr>
                                <th title="Time" scope="p-5 col"><i class="fa fa-clock"></i></th>
                                <th title="Wind speed (mph)" scope="col"><i class="fa fa-wind"></i> MPH</th>
                                <th title="Wind gust speed (mph)"scope="col"><i class="fa fa-wind"></i> GUST</th>
                                <th title="Temperature (celcius)" scope="col"><i class="fa fa-temperature-low"></i></th>
                                <th scope="col"></th>
                            </tr>
                        </thead>
                        <tbody class="secondary-color">
                            <?php foreach($forecast['hour'] as $hour => $data): ?>
                                <?php if(new DateTime('@' . $data['time_epoch']) > new DateTime()): ?>
                                    <tr>
                                        <td><?= date("H:i", strtotime($hour.':00')) ?></td>
                                        <td>
                                            <i class="fa fa-arrow-down" style="transform: rotate(<?= $data['wind_degree'] ?>deg)"></i>
                                            <?= number_format($data['wind_mph'], 1) ?>
                                        </td>
                                        <td><?= number_format($data['gust_mph'], 1) ?></td>
                                        <td><?= number_format($data['temp_c'], 1) ?>&deg;</td>
                                        <td><img class="img-fluid"  src="<?= $data['condition']['icon'] ?>" alt="condition"></img></td>
                                    </tr>
                                <?php endif; ?>
                            <?php endforeach; ?>
                        </tbody>
                    </table>
                </div>
            <?php endforeach;?>
        </div>
        <!-- credit to WeatherAPI.com -->
        <h6 class="text-muted text-right">
            Powered by <a target="blank" href="https://www.weatherapi.com/" title="Free Weather API">WeatherAPI.com</a>
        </h6>
    <?php else: ?>
        <div class="alert alert-danger alert-dismissible fade show container" role="alert">
            <strong>Oops!</strong> Something went wrong when loading weather, please check back later.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true"><i class="fa fa-times"></i></span>
            </button>
        </div>
    <?php endif; ?>
</div>

<!-- map -->
<div id="map-container-fluid" class="container-fluid p-0">
    <div id="gmap_canvas" class="page-90">
        <style>#gmap_canvas img{max-width:none!important;background:none!important}</style>
    </div>
</div>

<!-- faq -->
<div class="container-fluid">
    <div class="container pt-5 pb-5">
        <h2 class="page-header pb-3 mb-3 text-center">Frequently Asked Questions</h2>
        <div class="panel-group" id="faq">

            <div class="cursor-pointer mb-3">
                <div class="shadow-sm panel-heading collapsed secondary-color rounded p-3" data-toggle="collapse" data-parent="#faq" href="#collapseOne">
                    <p class="d-flex align-items-center justify-content-between mb-0 px-3 py-2 lead">
                        Do I need to be an employee of Tata Steel to join the club?
                        <i class="fa fa-angle-down"></i>
                    </p>
                </div>
                <div id="collapseOne" class="panel-collapse collapse">
                    <div class="panel-body">
                        <p class="font-italic p-3 mb-0 text-muted">
                            No, anyone can join the club - not just Tata Steel employees! Associate Members make up the bulk of the club's membership.
                        </p>
                    </div>
                </div>
            </div>

            <div class="cursor-pointer mb-3">
                <div class="shadow-sm panel-heading collapsed secondary-color rounded p-3" data-toggle="collapse" data-parent="#faq" href="#collapseTwo">
                    <p class="d-flex align-items-center justify-content-between mb-0 px-3 py-2 lead">
                        Where do I apply to join Tata Steel Sailing Club?
                        <i class="fa fa-angle-down"></i>
                    </p>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse">
                    <div class="panel-body">
                        <p class="font-italic p-3 mb-0 text-muted">
                            Go to the "<a href="<?= $this->url('join') ?>">Join Us</a>" page and choose the appropriate application form.
                            You are welcome to the club at any time we are open. Please look at the <a href="<?= $this->url('calendar') ?>">Calendar</a> to see when we are there.
                        </p>
                    </div>
                </div>
            </div>

            <div class="cursor-pointer mb-3">
                <div class="shadow-sm panel-heading collapsed secondary-color rounded p-3" data-toggle="collapse" data-parent="#faq" href="#collapseThree">
                    <p class="d-flex align-items-center justify-content-between mb-0 px-3 py-2 lead">
                        When is Tata Steel Sailing Club open?
                        <i class="fa fa-angle-down"></i>
                    </p>
                </div>
                <div id="collapseThree" class="panel-collapse collapse">
                    <div class="panel-body">
                        <p class="font-italic p-3 mb-0 text-muted">
                            Times and dates vary through the seasons, check the <a href="<?= $this->url('calendar') ?>">Calendar</a> for planned activities.
                            Might be an idea to contact a member first and arrange a visit, although you are very welcome to just turn up at any time we're there.
                        </p>
                    </div>
                </div>
            </div>

            <div class="cursor-pointer mb-3">
                <div class="shadow-sm panel-heading collapsed secondary-color rounded p-3" data-toggle="collapse" data-parent="#faq" href="#collapseFour">
                    <p class="d-flex align-items-center justify-content-between mb-0 px-3 py-2 lead">
                        How much does it cost to join the club?
                        <i class="fa fa-angle-down"></i>
                    </p>
                </div>
                <div id="collapseFour" class="panel-collapse collapse">
                    <div class="panel-body">
                        <p class="font-italic p-3 mb-0 text-muted">
                            Membership fees vary depending on your circumstances.
                            Go to the "<a href="<?= $this->url('join') ?>">Join Us</a>" page and choose the appropriate application form, it details the various offers.
                            The Membership Secretary (<a href="mailto:membership@tatasteelsailing.org.uk">membership@tatasteelsailing.org.uk</a>) can help you choose the best option for you if you need help.
                        </p>
                    </div>
                </div>
            </div>

            <div class="cursor-pointer mb-3">
                <div class="shadow-sm panel-heading collapsed secondary-color rounded p-3" data-toggle="collapse" data-parent="#faq" href="#collapseFive">
                    <p class="d-flex align-items-center justify-content-between mb-0 px-3 py-2 lead">
                        Are there any age restrictions?
                        <i class="fa fa-angle-down"></i>
                    </p>
                </div>
                <div id="collapseFive" class="panel-collapse collapse">
                    <div class="panel-body">
                        <p class="font-italic p-3 mb-0 text-muted">
                            We've had sailing members from 8 years old to 85. Physical fitness is more important than age.
                            Sailing is one of those hobbies that suits all. You just need to pick the boat that suits you.
                        </p>
                    </div>
                </div>
            </div>

            <div class="cursor-pointer mb-3">
                <div class="shadow-sm panel-heading collapsed secondary-color rounded p-3" data-toggle="collapse" data-parent="#faq" href="#collapseSix">
                    <p class="d-flex align-items-center justify-content-between mb-0 px-3 py-2 lead">
                        I'd like some training; What can you do for me?
                        <i class="fa fa-angle-down"></i>
                    </p>
                </div>
                <div id="collapseSix" class="panel-collapse collapse">
                    <div class="panel-body">
                        <p class="font-italic p-3 mb-0 text-muted">
                            If you are a complete beginner, we have a number of RYA courses you can do as part of your membership.
                            If the schedule does not suite you, we can tailor it to your needs and put you with a buddy.
                            This is a person you team up with to guide you through your training.
                            He/She can help you arrange days of tuition to cover particular aspects or just advise you on how to improve your techniques.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<?php
    $this->inlineScript()
        ->prependFile($this->basePath('/js/map.driver.js'))
        ->prependFile($this->basePath('/js/weather.colors.js'))
        ->prependFile('http://maps.google.com/maps/api/js?key=' . $this->mapApiKey)
        ->prependFile($this->basePath('/js/navbar-fader.js'))
?>
